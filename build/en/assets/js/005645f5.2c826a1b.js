"use strict";(self.webpackChunkmy_github=self.webpackChunkmy_github||[]).push([[29908],{38759:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>m,contentTitle:()=>d,default:()=>l,frontMatter:()=>i,metadata:()=>r,toc:()=>o});var n=a(74848),s=a(28453);const i={title:"\u57ce\u5e02\u8ba1\u7b97AI\u6311\u6218\u8d5b - \u63d0\u4ea4\u7ed3\u679c",tags:["AI","\u5929\u6c60"],authors:"cttmayi"},d=void 0,r={permalink:"/en/blog/2019/05/18/\u57ce\u5e02\u8ba1\u7b97AI\u6311\u6218\u8d5b\u63d0\u4ea4\u7ed3\u679c",source:"@site/blog/2019-05-18-\u57ce\u5e02\u8ba1\u7b97AI\u6311\u6218\u8d5b\u63d0\u4ea4\u7ed3\u679c/index.md",title:"\u57ce\u5e02\u8ba1\u7b97AI\u6311\u6218\u8d5b - \u63d0\u4ea4\u7ed3\u679c",description:"\u4e00\u76f4\u4ee5\u4e3a\u8981\u63d0\u4ea4\u4ee3\u7801, \u539f\u6765\u53ea\u9700\u8981\u63d0\u4ea4\u7b54\u6848\u5c31\u597d. \u5c45\u7136\u6211\u62ff\u4e86\u4e2a\u7b2c\u4e00(\u65b0\u4eba\u8d5b\u51e0\u4e2a\u4eba\u73a9), \u6709\u56fe\u4e3a\u8bc1.",date:"2019-05-18T00:00:00.000Z",formattedDate:"May 18, 2019",tags:[{label:"AI",permalink:"/en/blog/tags/ai"},{label:"\u5929\u6c60",permalink:"/en/blog/tags/\u5929\u6c60"}],readingTime:.6,hasTruncateMarker:!1,authors:[{name:"Ling Yuan",title:"Engineer",url:"https://github.com/cttmayi",imageURL:"https://github.com/cttmayi.png",key:"cttmayi"}],frontMatter:{title:"\u57ce\u5e02\u8ba1\u7b97AI\u6311\u6218\u8d5b - \u63d0\u4ea4\u7ed3\u679c",tags:["AI","\u5929\u6c60"],authors:"cttmayi"},unlisted:!1,prevItem:{title:"Tornado\u5e38\u7528\u6280\u5de7\u5206\u4eab",permalink:"/en/blog/2019/05/19/Tornado\u5e38\u7528\u6280\u5de7\u5206\u4eab"},nextItem:{title:"\u6210\u90fd\u65e0\u4eba\u673a\u7981\u98de\u533a",permalink:"/en/blog/2019/05/17/\u6210\u90fd\u65e0\u4eba\u673a\u7981\u98de\u533a"}},m={authorsImageUrls:[void 0]},o=[{value:"\u4e3b\u8981\u4ee3\u7801",id:"\u4e3b\u8981\u4ee3\u7801",level:2},{value:"\u7ed3\u679c\u6210\u7ee9",id:"\u7ed3\u679c\u6210\u7ee9",level:2}];function c(t){const e={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,s.R)(),...t.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:"\u4e00\u76f4\u4ee5\u4e3a\u8981\u63d0\u4ea4\u4ee3\u7801, \u539f\u6765\u53ea\u9700\u8981\u63d0\u4ea4\u7b54\u6848\u5c31\u597d. \u5c45\u7136\u6211\u62ff\u4e86\u4e2a\u7b2c\u4e00(\u65b0\u4eba\u8d5b\u51e0\u4e2a\u4eba\u73a9), \u6709\u56fe\u4e3a\u8bc1."}),"\n",(0,n.jsx)(e.h2,{id:"\u4e3b\u8981\u4ee3\u7801",children:"\u4e3b\u8981\u4ee3\u7801"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-python",children:"# \u90e8\u5206\u6570\u636e\u51c6\u5907\u7684\u4ee3\u7801\u5728\u524d\u7bc7\u4ee5\u4ecb\u7ecd\n\nfrom sklearn import svm\n\ndef get_clf(data, target):\n    in_clf = svm.SVR(kernel='linear')\n    in_clf.fit(data, target[..., 0])\n    out_clf = svm.SVR(kernel='linear')\n    out_clf.fit(data, target[..., 1])\n    return in_clf, out_clf\n\ndef get_pred(clf, data):\n    pred = clf.predict(data)\n    pred = pred.astype(np.int64)\n    return pred\n\nimport numpy as np\n\ndef get_test_submit_data(filename):\n    data = pd.read_csv(filename)\n    data['days']    = pd.to_datetime(data['startTime'],format='%Y-%m-%d %H:%M:%S').dt.day\n    data['hours']   = pd.to_datetime(data['startTime'],format='%Y-%m-%d %H:%M:%S').dt.hour\n    data['minutes'] = pd.to_datetime(data['startTime'],format='%Y-%m-%d %H:%M:%S').dt.minute\n    data['wkday']   = pd.to_datetime(data['startTime'],format='%Y-%m-%d %H:%M:%S').dt.weekday \n    return data\n\nsubmit_data_A = get_test_submit_data('myspace/Metro_testA/testA_submit_2019-01-29.csv')\nsubmit_data_B = get_test_submit_data('myspace/Metro_testB/testB_submit_2019-01-27.csv')\nsubmit_data_C = get_test_submit_data('myspace/Metro_testC/testC_submit_2019-01-31.csv')\n\nin_clf, out_clf = get_clf(test_data, test_target)\n\ndef save_sumbit_file(in_clf, out_clf,  submit_data, filename):\n    data = submit_data.loc[:,['stationID', 'wkday', 'hours', 'minutes']]\n    data = data.values\n    in_submit = get_pred(in_clf, data)\n    out_submit = get_pred(out_clf, data)\n    ans_data = submit_data.loc[:,['stationID', 'startTime', 'endTime']]\n    ans_data['inNums'] = in_submit\n    ans_data['outNums'] = out_submit\n    ans_data.to_csv(filename, index=False)\n    \nsave_sumbit_file(in_clf, out_clf, submit_data_A, 'myspace/A.csv')\n\n"})}),"\n",(0,n.jsx)(e.h2,{id:"\u7ed3\u679c\u6210\u7ee9",children:"\u7ed3\u679c\u6210\u7ee9"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"image",src:a(9026).A+"",width:"972",height:"402"})})]})}function l(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(c,{...t})}):c(t)}},9026:(t,e,a)=>{a.d(e,{A:()=>n});const n=a.p+"assets/images/image-ce0ae638-928abf10110bcc9d40ca665cd296964a.png"},28453:(t,e,a)=>{a.d(e,{R:()=>d,x:()=>r});var n=a(96540);const s={},i=n.createContext(s);function d(t){const e=n.useContext(i);return n.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:d(t.components),n.createElement(i.Provider,{value:e},t.children)}}}]);