"use strict";(self.webpackChunkmy_github=self.webpackChunkmy_github||[]).push([[95136],{34043:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>s,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var a=t(74848),u=t(28453);const l={title:"Lua\u4e0eC++\u76f8\u4e92\u8c03\u7528(Lua\u8c03\u7528C++)",tags:["Lua"],authors:"cttmayi"},r=void 0,i={permalink:"/blog/2019/06/09/Lua\u4e0eC\u76f8\u4e92\u8c03\u7528Lua\u8c03\u7528C",source:"@site/blog/2019-06-09-Lua\u4e0eC\u76f8\u4e92\u8c03\u7528Lua\u8c03\u7528C/index.md",title:"Lua\u4e0eC++\u76f8\u4e92\u8c03\u7528(Lua\u8c03\u7528C++)",description:"Lua\u8c03\u7528C",date:"2019-06-09T00:00:00.000Z",formattedDate:"2019\u5e746\u67089\u65e5",tags:[{label:"Lua",permalink:"/blog/tags/lua"}],readingTime:.36333333333333334,hasTruncateMarker:!1,authors:[{name:"Ling Yuan",title:"Engineer",url:"https://github.com/cttmayi",imageURL:"https://github.com/cttmayi.png",key:"cttmayi"}],frontMatter:{title:"Lua\u4e0eC++\u76f8\u4e92\u8c03\u7528(Lua\u8c03\u7528C++)",tags:["Lua"],authors:"cttmayi"},unlisted:!1,prevItem:{title:"Python \u5c0f\u6280\u5de7 - \u904d\u5386\u6587\u4ef6",permalink:"/blog/2019/06/11/Python\u5c0f\u6280\u5de7\u904d\u5386\u6587\u4ef6"},nextItem:{title:"Code::Blocks (\u4e00\u6b3e\u5f00\u6e90\u7684C++ IDE)",permalink:"/blog/2019/06/07/CodeBlocks\u4e00\u6b3e\u5f00\u6e90\u7684CIDE"}},o={authorsImageUrls:[void 0]},c=[{value:"Lua\u8c03\u7528C",id:"lua\u8c03\u7528c",level:2},{value:"\u5b9a\u4e49\u51fd\u6570",id:"\u5b9a\u4e49\u51fd\u6570",level:3},{value:"\u5c06\u51fd\u6570\u6ce8\u518c\u8fdbLua\u73af\u5883\u4e2d",id:"\u5c06\u51fd\u6570\u6ce8\u518c\u8fdblua\u73af\u5883\u4e2d",level:3},{value:"\u5728Lua\u4e2d\u8c03\u7528",id:"\u5728lua\u4e2d\u8c03\u7528",level:3}];function p(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,u.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"lua\u8c03\u7528c",children:"Lua\u8c03\u7528C"}),"\n",(0,a.jsx)(n.h3,{id:"\u5b9a\u4e49\u51fd\u6570",children:"\u5b9a\u4e49\u51fd\u6570"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528luaL_checknumber\u8bfb\u53d6\u53c2\u6570, \u4f7f\u7528lua_pushnumber\u8fd4\u56de\u8fd4\u56de\u503c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'#include <lua.hpp>\nextern "C" int app_add(lua_State* L) {\n    double op1 = luaL_checknumber(L, 1);\n    double op2 = luaL_checknumber(L, 2);\n    lua_pushnumber(L, op1 + op2);\n    return 1;\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5c06\u51fd\u6570\u6ce8\u518c\u8fdblua\u73af\u5883\u4e2d",children:"\u5c06\u51fd\u6570\u6ce8\u518c\u8fdbLua\u73af\u5883\u4e2d"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'static luaL_Reg applib[] = {\n\t{"add", app_add},\n\t{NULL, NULL}\n};\n\nLUALIB_API int luaopen_app (lua_State *L) {\n  luaL_newlib(L, applib);\n  return 1;\n}\n\nint main(){\n    lua_State* L = luaL_newstate();  /* create state */\n    luaL_openlibs(L);\n    luaL_requiref(L,"app",luaopen_app, 0);\n}\n\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5728lua\u4e2d\u8c03\u7528",children:"\u5728Lua\u4e2d\u8c03\u7528"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'app = require("app")\nprint(app.add(1.0,2.0))\n'})})]})}function s(e={}){const{wrapper:n}={...(0,u.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var a=t(96540);const u={},l=a.createContext(u);function r(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(u):e.components||u:r(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);